---
layout: post
title: "[8.8] 객체로서의 함수"
---

## 함수는 객체

---

자바스크립트 함수는 Function 객체이며, 일급 객체 즉, 일급 함수라고 부른다.

- 함수는 변수나 프로퍼티나 배열 요소에 대입할 수 있다.
- 함수는 함수의 인수로 사용할 수 있다.
- 함수는 함수의 반환값으로 사용할 수 있다.
- 함수는 프로퍼티와 메서드를 가질 수 있다.
- 함수는 이름 없는 리터럴로 표현할 수 있다. (익명 함수)
- 함수는 동적으로 생성할 수 있다.

## 함수의 프로퍼티

---

| 이름      | 설명                              |
| --------- | --------------------------------- |
| caller    | 현재 실행 중인 함수를 호출한 함수 |
| length    | 함수의 인자 개수                  |
| name      | 함수를 표시할 때 사용하는 이름    |
| prototype | 프로토타입 객체의 참조            |

| 이름        | 설명                                                                    |
| ----------- | ----------------------------------------------------------------------- |
| apply( )    | 선택한 this와 인수를 사용하여 함수를 호출. 인수는 배열 객체이다.        |
| bind( )     | 선택한 this와 인수를 적용한 새로운 함수를 반환한다.                     |
| call( )     | 선택한 this와 인수를 사용하여 함수를 호출. 인수는 쉼표로 구분한 값이다. |
| constructor | Function 생성자의 참조                                                  |
| toString( ) | 함수의 소스 코드를 문자열로 반환한다.                                   |

## apply와 call 메서드

---

```jsx
function say(greeting, honorifics) {
	console.log(greeting + " " + honorifics + this.name);
}
var tom = {name: "Tom Sawyer"};
var becky = {name: "Becky Thatcher"};
say.apply(tom, ["Hello!", "Mr."]); // "Hello! Mr.Tom Sawyer"
say.apply(becky, ["Hi!", "Ms."]);  // "Hi! Ms. Becky Thatcher"
say.call(tom, "Hello", "Mr.");     // "Hello! Mr.Tom Sawyer"
say.call(becky, "Hi". "Ms.");      // "Hi! Ms. Becky Thatcher"
```

## bind 메서드

---

```jsx
function say(greeting, honorifics) {
  console.log(greeting + " " + honorifics + this.name);
}
var tom = { name: "Tom Sawyer" };
var sayToTom = say.bind(tom);
sayToTom("Hello", "Mr.");
```

## 함수에 프로퍼티 추가하기

---

```jsx
function sayHi() {
  sayHi.counter++;
}
sayHi.counter = 0; // 초깃값
sayHi();
sayHi();
console.log(sayHi.counter); // 2
```

**클로저는 함수 프로퍼티로 대체할 수 있다.**

```jsx
function makeCounter() {
  counter.count = 0;
  return function counter() {
    return counter.count++;
  };
}
let counter = makeCounter();
console.log(counter()); // 0
console.log(counter()); // 1
counter.count = 10;
console.log(counter()); // 10
```

**메모이제이션**이란 함수를 호출했을 때의 인수와 반환값을 한 쌍으로 만들어 저장해 두는 기법이다.

```jsx
function fibonacci(n) {
  if (n < 2) return n;
  if (!(n in fibonacci)) {
    fibonacci[n] = fibonacci(n - 1) + fibonacci(n - 2);
  }
  return fibonacci[n];
}
```
